<mat-spinner *ngIf="isLoading"></mat-spinner>

<form
  (submit)="onSaveCompany(companyForm)"
  #companyForm="ngForm"
  *ngIf="!isLoading">
  <mat-form-field>
    <input
      matInput
      placeholder="Company Name"
      name="companyName"
      #companyName="ngModel"
      [ngModel]="company?.companyName"
      required>
    <mat-error
      *ngIf="companyForm.invalid">
      Please enter company name
    </mat-error>
  </mat-form-field>

  <div>
    <mat-form-field>
      <input
        matInput
        placeholder="Street 1"
        name="street1"
        #street1="ngModel"
        [ngModel]="company?.companyAddress.street1"
        required>
      <mat-error *ngIf="companyForm.invalid">Please enter street name</mat-error>
    </mat-form-field>
    <br>
    <mat-form-field>
      <input
        matInput
        placeholder="Street 2"
        name="street2"
        [ngModel]="company?.companyAddress.street2">
    </mat-form-field>
    <br>
    <mat-form-field>
      <input
        matInput
        placeholder="City"
        name="city"
        #city="ngModel"
        [ngModel]="company?.companyAddress.city"
        required>
      <mat-error *ngIf="companyForm.invalid">Please enter city name</mat-error>
    </mat-form-field>
    <br>
    <mat-form-field>
      <mat-select
        placeholder="State"
        name="state"
        #state="ngModel"
        [ngModel]="company?.companyAddress.state"
        required>
        <mat-option
          *ngFor="let state of states"
          [value]="state.label">
          {{state.value}}
        </mat-option>

      </mat-select>
      <mat-error *ngIf="companyForm.invalid">Please enter state</mat-error>
    </mat-form-field>
    <br>
    <mat-form-field>
      <input
        matInput
        placeholder="Zipcode"
        name="zipcode"
        #zipcode="ngModel"
        [ngModel]="company?.companyAddress.zipcode"
        required>
      <mat-error *ngIf="companyForm.invalid">Please enter zipcode</mat-error>
    </mat-form-field>
  </div>

  <hr>
  <button
    mat-raised-button
    type="reset"
    color="warn">
    Cancel
  </button>
  <button class="submitButton"
    mat-raised-button
    type="submit"
    color="primary" >
    Save Company
  </button>
</form>

